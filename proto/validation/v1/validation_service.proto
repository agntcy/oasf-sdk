// Copyright AGNTCY Contributors (https://github.com/agntcy)
// SPDX-License-Identifier: Apache-2.0

syntax = "proto3";

package validation.v1;

import "objects/v3/record.proto";

// ValidationService provides methods to validate OASF objects.
service ValidationService {
  // ValidateRecord checks the validity of a Record object.
  rpc ValidateRecord(ValidateRecordRequest) returns (ValidateRecordResponse);

  // ValidateRecords checks the validity of multiple Record objects.
  rpc ValidateRecords(ValidateRecordsRequest) returns (ValidateRecordsResponse);
}

message ValidateRecordRequest {
  // The Record object to be validated.
  objects.v3.Record record = 1;
}

message ValidateRecordResponse {
  // Version of the Record being validated.
  string record_version = 1;

  // Whether the Record is valid.
  bool is_valid = 2;

  // A list of validation errors, if any.
  repeated string errors = 3;
}

message ValidateRecordsRequest {
  // A list of Record objects to be validated.
  repeated objects.v3.Record records = 1;
}

message ValidateRecordsResponse {
  // A list of validation results for each Record.
  repeated ValidateRecordResponse results = 1;
}
